@{
    ViewBag.Title = "Department List";
}
@model ESimSol.BusinessObjects.DepartmentSetUp
@{var MenuID = HttpContext.Current.Session[SessionInfo.MenuID];}
    <head>
        <script src="@Url.Content("~/Views/DepartmentRequirementPolicy/DepartmentSetup.js")" type="text/javascript"></script>
    </head>
    <body>
        <div id="winDepartmentSetUp" class="easyui-window winstyle" title="Department Requirement Policy" style="width:800px; height:540px" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">                        
            <fieldset style="margin-top:3px">
                <table border="0" cellpadding="2" cellspacing="2" style="font-weight:bold; font-size:11px">
                    
                    <tr>
                        <td style="width:130px; text-align:right">Dept/Section :</td>
                        <td style="width:670px">
                            <input id="txtDepartment" type="text" style="width:574px" disabled="disabled" />
                            <input id="btnPickDepartment" type="button" value="P" style="width:25px" />
                            <input id="btnClearDepartment" type="button" value="C" style="width:25px" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:130px; text-align:right">Dept Close :</td>
                        <td style="width:670px">
                            <input id="txtDepartmentClose" type="text" style="width:574px" disabled="disabled" />
                            <input id="btnPickDepartmentCloseDay" type="button" value="P" style="width:25px" />
                            <input id="btnClearDepartmentCloseDay" type="button" value="C" style="width:25px" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:130px; text-align:right">Head Count :</td>
                        <td style="width:670px">
                            <div>
                                <div style="float:left; text-align:left">
                                    <input type="text" id="txtHeadCount" />
                                </div>
                                <div style="float:right; text-align:right; margin-right:15px;">
                                    <span>Budget:</span>
                                    <input type="text" id="txtBudget" />
                                </div>
                            </div>
                            
                        </td>
                    </tr>
                    <tr>
                        <td style="width:130px; text-align:right">Description :</td>
                        <td style="width:570px">
                            <input type="text" style="width:630px" id="txtDescription" />
                        </td>                        
                    </tr>
                </table>
            </fieldset>
            <div style="width: 782px; margin-left:2px">
                <table id="tblDeptReqDesignations" title="Designation Wise Required Person" class="easyui-datagrid" style="width: 782px; height: 292px"
                       data-options="singleSelect: true, fitColumns:false, rownumbers:true, pagination:false, autoRowHeight:false, showFooter: true, toolbar:'#toolbarpolicy', onClickRow: onClickRow"></table>
                <div id="toolbarpolicy">
                    Designation :
                    <input id="txtDesignation" type="text" style="width:150px" disabled="disabled" />
                    <input id="btnPickDesignation" type="button" value="P" style="width:25px" />
                    <input id="btnClearDesignation" type="button" value="C" style="width:25px" />
                    <input id="btnAddDesignation" type="button" value="+" style="width:28px" />
                    <input id="btnRemoveDesignation" type="button" value="-" style="width:28px" />
                    Shift :
                    <select id="cboShift" style="width: 180px;"></select>                        
                    <input id="btnShiftAdd" value="+" type="button" style="width: 28px"/>
                    <input id="btnShiftRemove" value="-" type="button" style="width: 28px" />
                    <a id="btnReloadDeptReqDesignations" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-reload" plain="true"></a>
                    <a id="btnAddHRResponsibility" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-add" plain="true">Responsibility</a>
                </div>
            </div>

            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <a id="btnSaveDepartmentSetUp" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-save" plain="true">Save</a>
                <a id="btnCloseDepartmentSetUp" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
            </fieldset>
        </div>

        <div id="winDepartment" class="easyui-window" title="Department List" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <fieldset style="margin-left:2px; margin-top :2px">
                <div style="width: 100%; height: 400px; overflow: auto">
                    <ul id="ttDepartment" singleselect="true"></ul>                 
                </div>
            </fieldset>
            <fieldset>
                <legend style="font-weight: bold">Action : </legend>
                <table border="0" cellspacing="2" cellpadding="2" style="font-size: 11px; font-weight: bold; font-family: Tahoma">
                    <tr>
                        <td style="width: 400px; text-align: right"></td>
                        <td style="width: 50px">
                            <a id="btnOkDepartment" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Ok</a>
                        </td>
                        <td style="width: 50px">
                            <a id="btnCloseDepartment" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>

        <div id="winWeekDays" class="easyui-window" title="Days Of Week" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <table id="tblDay" title="" class="easyui-datagrid" style="width: 233px; height: 210px" fitcolumns="false" rownumbers="true" pagination="false" singleselect="false" autorowheight="false">
                <thead>
                    <tr>
                        <th data-options="field:'Selected',checkbox:true"> </th>
                        <th field="WeekDay" width="155"> Days </th>
                    </tr>
                </thead>
            </table>
            <fieldset>
                <legend style="font-weight: bold">Action : </legend>
                <table border="0" cellspacing="2" cellpadding="2" style="font-size: 11px; font-weight: bold; font-family: Tahoma">
                    <tr>
                        <td style="width: 80px; text-align: right"></td>
                        <td style="width: 50px">
                            <a id="btnOkWeekDays" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Ok</a>
                        </td>
                        <td style="width: 50px">
                            <a id="btnCloseWeekDays" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>
        
        <div id="winDesignation" class="easyui-window" title="Designation List" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <fieldset style="margin-left:2px; margin-top :2px">
                <div style="width: 100%; height: 400px; overflow: auto">
                    <ul id="ttDesignation" data-options="checkbox:true" singleselect="true"></ul>
                </div>
            </fieldset>
            <fieldset>
                <legend style="font-weight: bold">Action : </legend>
                <table border="0" cellspacing="2" cellpadding="2" style="font-size: 11px; font-weight: bold; font-family: Tahoma">
                    <tr>
                        <td style="width: 400px; text-align: right"></td>
                        <td style="width: 50px">
                            <a id="btnOkDesignation" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Ok</a>
                        </td>
                        <td style="width: 50px">
                            <a id="btnCloseDesignation" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>

        <div id="winHRResponsibility" class="easyui-window" title="HR Responsibility List" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <div style="margin-left:2px; margin-top:2px">
                <table id="tblHRResponsibility" title="" class="easyui-datagrid" style="width: 430px; height: 450px" fitcolumns="false" rownumbers="true" pagination="false" singleselect="true" autorowheight="false">
                    <thead>
                        <tr>
                            <th data-options="field:'Selected',checkbox:true"> </th>
                            <th field="Code" width="60"> Code </th>
                            <th field="Description" width="295"> Responsibility Clause </th>
                        </tr>
                    </thead>
                </table>
            </div>
            <fieldset>
                <legend style="font-weight: bold">Action : </legend>
                <table border="0" cellspacing="2" cellpadding="2" style="font-size: 11px; font-weight: bold; font-family: Tahoma">
                    <tr>
                        <td style="width: 280px; text-align: right"></td>
                        <td style="width: 50px">
                            <a id="btnOkHRResponsibility" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Ok</a>
                        </td>
                        <td style="width: 50px">
                            <a id="btnCloseHRResponsibility" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>

        <div class="divDepartmentSetUp" style="margin-left:0px;width:100%; height:100%">
            <table id="tblDepartmentSetUp" title="Department List" class="easyui-treegrid" style="width:100%;height:100%" fit="true" fitcolumns="true"
                   data-options="idField:'id',treeField:'text',rownumbers:'true', toolbar:'#toolbarDepartment'">
                <thead>
                    <tr>
                        <th data-options="field:'text',width:200">Department Name</th>                                                
                        <th data-options="field:'DetailsInfo',width:300">Details Info</th>
                    </tr>
                </thead>
            </table>
            <div id="toolbarDepartment">
                <a id="btnReload" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-reload" plain="true"></a>
                <input type="text" id="txtSearchByCode" placeholder="Search by Code" style="width:120px" /><input type="text" id="txtSearchByName" placeholder="Search by name" style="width:150px" />
                <a id="btnAddSetup" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-add" plain="true">Add Setup</a>
                <a id="btnEditSetup" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-edit" plain="true">Edit Setup</a>
                <a id="btnRemoveSetup" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-remove" plain="true">Remove Setup</a>
            </div>
        </div>
</body>

<script type="text/javascript">
    var _oDepartmentSetUp=null;
    var _sBaseAddress="";
    var _nMenuID=0;
    $(document).ready(function () {
        debugger;
        _sBaseAddress=@Html.Raw( new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(HttpContext.Current.Session[SessionInfo.BaseAddress]));
        _oDepartmentSetUp=@Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(Model));
        _nMenuID= @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(MenuID));
        $('#txtHeadCount,#txtBudget').icsCurrencyBox();
        InitializeDepartmentSetupEvents();
    });
</script>
