@{
    ViewBag.Title = "Delivery Programs";
}

@model IEnumerable<ESimSol.BusinessObjects.SUDeliveryProgram>
    <head>
        <title></title>
        <script src="@Url.Content("~/Views/SUDeliveryProgram/SUDeliveryPrograms.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Views/SUDeliveryProgram/SUDeliveryProgram.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Views/SUDeliveryOrder/SUDeliveryOrder.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Views/SUDeliveryOrder/AdvSearch.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Views/SUDeliveryChallan/SUDeliveryChallan.js")" type="text/javascript"></script>
    </head>
    <body>
        <div id="winProgramChallanHistory" class="easyui-window" title="Program And Challan History" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <div id="tabProgramChallanHistory" class="easyui-tabs" style="width: 900px;height:360px;">
                <div title="Program History">
                    <table id="tblProgramHistory" class="easyui-datagrid" style="width: 890px; height: 320px" fitcolumns="false" rownumbers="true" pagination="false" singleselect="true" multiselect="false" autorowheight="false">
                        <thead>
                            <tr>
                                <th field="ProgramDateInString" width="15%" align="center">Program Date</th>
                                <th field="ProductName" width="42%">Product Name</th>
                                <th field="LotNo" width="20%">Lot No</th>
                                <th field="ProgramQtyInString" width="20%" align="right">Program Qty</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div title="Challan History">
                    <table id="tblChallanHistory" class="easyui-datagrid" style="width: 890px; height: 320px" fitcolumns="false" rownumbers="true" pagination="false" singleselect="true" multiselect="false" autorowheight="false">
                        <thead>
                            <tr>
                                <th field="ProgramDateSt" width="15%" align="center">Program Date</th>
                                <th field="ChallanNo" width="15%">Challan No</th>
                                <th field="ChallanDateSt" width="15%" align="center">Challan Date</th>
                                <th field="ProductName" width="35%">Product Name</th>
                                <th field="QtySt" width="18%" align="right">Challan Qty</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <table style="width:100%;">
                    <tr>
                        <td style="width:500px;float:right;">
                            <a id="btnClosePCH" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>

        <div id="winSUDeliveryProgram" class="easyui-window winstyle" title="Delivery Program" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <fieldset>
                <table>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Program Date :</label>
                        </td>
                        <td style="width:250px;">
                            <input id="txtProgramDateSUDeliveryProgram" type="text" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" style="width:245px;" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Lot No :</label>
                        </td>
                        <td style="width:250px;" colspan="2">
                            <select id="cboLotSUDeliveryProgram" style="width:245px;" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Vehicle :</label>
                        </td>
                        <td style="width:250px;">
                            <select id="cboVehicleSUDeliveryProgram" style="width:245px;" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Remarks :</label>
                        </td>
                        <td style="width:250px;" colspan="2">
                            <input id="txtRemarksSUDeliveryProgram" type="text" style="width:245px;" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Yet to Program :</label>
                        </td>
                        <td style="width:250px;" colspan="2">
                            <input id="txtYetToProgramSUDeliveryProgram" class="number" type="text" style="width:245px;" disabled/>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Program Qty :</label>
                        </td>
                        <td style="width:250px;" colspan="2">
                            <input id="txtProgramQtySUDeliveryProgram" class="number" type="text" style="width:245px;" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px;" align="right">
                            <label>Challan Qty :</label>
                        </td>
                        <td style="width:250px;" colspan="2">
                            <input id="txtChallanQtySUDeliveryProgram" class="number" type="text" style="width:245px;" disabled />
                        </td>
                    </tr>
                </table>
            </fieldset>
            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <table>
                    <tr>
                        <td style="width:250px; text-align:right"></td>
                        <td style="width:50px; text-align:right;">
                            <a id="btnSaveSUDeliveryProgram" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Update</a>
                        </td>
                        <td style="width:50px; text-align:right;">
                            <a id="btnCloseSUDeliveryProgram" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>
        <div id="winSUDChallan" class="easyui-window" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <div id="divSUDChallan" tabindex="-1">
                <table id="tblSUDChallan" class="easyui-datagrid" style="width: 900px; height: 350px; margin: 0;"
                       data-options="singleSelect: true,fitColumns:false, rownumbers:true, pagination:false, autoRowHeight:false,toolbar: '#toolbarSUDChallan'">
                    <thead>
                        <tr>
                            <th field="ChallanNo" width="15%">Challan No</th>
                            <th field="DONo" width="15%">DO No</th>
                            <th field="ChallanDateSt" width="10%" align="center">Challan Date</th>
                            <th field="ChallanStatusSt" width="10%">Status</th>
                            <th field="BuyerName" width="20%">Buyer</th>
                            <th field="DeliveryToName" width="20%">Delivered To</th>
                            <th field="ApprovedByName" width="20%">Approved By</th>
                            <th field="DeliveredByName" width="20%">Delivered By</th>
                            <th field="QtySt" width="10%" align="right">Qty</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div id="toolbarSUDChallan">
                <a id="btnViewSUDChallan" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-details" plain="true">View</a>
            </div>
            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <a id="btnCloseSUDChallan" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
            </fieldset>
        </div>
        <div id="winSUDeliveryChallan" class="easyui-window" title="Delivery Challan" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <fieldset>
                <legend>Delivery Challan :</legend>
                <table border="0" cellspacing="2" cellpadding="2" class="CaptionStyle">
                    <tr>
                        <td style="width:100px; text-align:right">
                            Challan No :
                        </td>
                        <td style="">
                            <input type="text" style="width:130px;margin-right:3px;float:left;" id="txtChallanNoSUDeliveryChallan" disabled />
                            <div style="float:right;">
                                DO No :
                                <input type="text" style="width:130px;margin-right:3px;" id="txtDONoSUDeliveryChallan" disabled />
                            </div>
                        </td>
                        <td style="width:200px; text-align:right">
                            Challan Date :
                        </td>
                        <td>
                            <input id="txtChallanDateSUDeliveryChallan" type="text" style="width:210px;" class="easyui-datebox enableDisable" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px; text-align:right">
                            Buyer :
                        </td>
                        <td style="text-align:left">
                            <select id="cboBuyerSUDeliveryChallan" class="enableDisable" style="width:120px;"></select>
                            <input id="txtSearchByBuyerSUDeliveryChallan" class="enableDisable" type="text" style="width: 59%;" placeholder="Type & Press Enter" />
                        </td>
                        <td style="width:200px; text-align:right">
                            <label style="width:150px;">Goods Checked By :</label>
                        </td>
                        <td>
                            <select id="cboGoodsCheckedBySUDeliveryChallan" style="width:100%;"></select>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px; text-align:right">
                            Deliver To :
                        </td>
                        <td style="text-align:left">
                            <select id="cboDeliveryToSUDeliveryChallan" class="enableDisable" style="width:120px;"></select>
                            <input id="txtSearchByDeliveryToSUDeliveryChallan" class="enableDisable" type="text" style="width: 59%;" placeholder="Type & Press Enter" />
                        </td>
                        <td style="text-align:right">
                            <label style="width:150px;">Finish Goods Store : </label>
                        </td>
                        <td>
                            <select id="cboFinishGoodsStoreSUDeliveryChallan" style="width:100%;"></select>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:100px; text-align:right">
                            Remarks :
                        </td>
                        <td>
                            <input id="txtRemarksSUDeliveryChallan" type="text" style="width:97%;" />
                        </td>
                        <td style="width:200px; text-align:right">
                            Vehicle No :
                        </td>
                        <td>
                            <input id="txtVehicleNoSUDeliveryChallan" type="text" style="width:98%;" />
                        </td>
                    </tr>
                </table>
            </fieldset>
            <div style="margin-left:2px; margin-top:2px">
                <table id="tblSUDeliveryChallanDetails" title="Item Description" class="easyui-datagrid" style="width:917px;height:300px;" fitcolumns="false" rownumbers="true" pagination="false" singleselect="true" autorowheight="false" toolbar="#toolbarSUDeliveryChallanDetail" data-options="onClickRow: onClickRowSUDC">
                    <thead>
                        <tr>
                            <th field="ProductCode" width="15%" align="left">Code</th>
                            <th field="ProductName" width="25%" align="left">Item Description</th>
                            <th field="LotNo" width="12%" align="left">Lot No</th>
                            <th data-options="field:'Qty',align:'right',editor:{type:'numberbox',options:{precision:2}}" width="15%" align="right">Qty(kG)</th>
                            <th field="QtyLbsSt" width="15%" align="right">Qty(LBS)</th>
                            <th field="ProgramQty" width="17%" align="right">Program Qty</th>
                        </tr>
                    </thead>
                </table>
                <div id="toolbarSUDeliveryChallanDetail">
                    <a id="btnLotAssignSUDeliveryChallanDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-redo" plain="true">Lot Assign</a>
                    <a id="btnRefreshSUDeliveryChallanDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-reload" plain="true">Refresh</a>
                    <a id="btnProductRemoveSUDeliveryChallanDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-remove" plain="true">Remove</a>
                    <a id="btnCopyItemSUDeliveryChallanDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-copy" plain="true">Copy Item</a>
                </div>
            </div>
            <table border="0">
                <tr>
                    <td style="width:479px;"></td>
                    <td id="tdTotalCaption" style="text-align: right; font-size: 12px; font-weight:bold"> Total : </td>
                    <td style="width: 100px; text-align: right; font-size: 12px">
                        <label id="lblTotalQty" style="text-align: right; font-size:12px; float: right; font-weight:bold">0.00</label>
                    </td>
                    <td style="width: 124px; text-align: right; font-size: 12px">
                        <label id="lblTotalQtyLbs" style="text-align: right; font-size:12px; float: right; font-weight:bold">0.00</label>
                    </td>
                    <td style="width: 124px; text-align: right; font-size: 12px">
                        <label id="lblTotalProgramQty" style="text-align: right; font-size:12px; float: right; font-weight:bold">0.00</label>
                    </td>
                </tr>
            </table>
            <fieldset class="actionfieldsetstyle">
                <legend style="font-weight:bold"> Action : </legend>
                <a id="btnSaveSUDeliveryChallan" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-save" plain="true">Save</a>
                <a id="btnDisburseSUDeliveryChallan" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-save" plain="true">Disburse</a>
                <a id="btnCloseSUDeliveryChallan" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
            </fieldset>
        </div>
        <div id="winBuyerPickerAdvSearch" class="easyui-window" title="Contractor" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <div id="divBuyerPickerAdvSearch" tabindex="-1">
                <table id="tblBuyersPickerAdvSearch" class="easyui-datagrid" style="width: 400px; height: 350px; margin: 0;"
                       data-options="singleSelect: true,fitColumns:false, rownumbers:true, pagination:false, autoRowHeight:false, toolbar: '#toolbarBuyerPickerAdvSearch' ">
                    <thead>
                        <tr>
                            <th field="Name" width="240" align="left">Name</th>
                            <th field="ContractorTypeInString" width="150" align="left">Type</th>
                        </tr>
                    </thead>
                </table>
                <div id="toolbarBuyerPickerAdvSearch">
                    <input id="txtSearchByBuyerNamePickerAdvSearch" class="txtPickerSearchInputField" type="text" placeholder="Search by name" />
                </div>
            </div>
            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <a id="btnOkBuyerPickerAdvSearch" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Ok</a>
                <a id="btnCloseBuyerPickerAdvSearch" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
            </fieldset>
        </div>
        <div id="winAdvSearchSUDeliveryOrder" class="easyui-window winstyle" title="Adv. Search" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <table class="tblAdvSearch">
                <tr>
                    <td>
                        <fieldset style="margin-bottom: 0px;" class="abc">
                            <legend>Searching Criteria</legend>
                            <table class="tblASWrapper">
                                <tr>
                                    <td>
                                        <label>DO No :</label>
                                    </td>
                                    <td>
                                        <input id="txtDONoAdvSearch" type="text" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label>Buyer(s) :</label>
                                    </td>
                                    <td class="oneTextTwoButton">
                                        <input id="txtSearchByBuyersAdvSearch" style="width:74%;" type="text" placeholder="Type & Press Enter" />
                                        <input id="btnClrSearchByBuyersAdvSearch" type="button" value="C" />
                                        <input id="btnPickSearchByBuyersAdvSearch" type="button" value="P" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label>PI No :</label>
                                    </td>
                                    <td>
                                        <input id="txtPINoAdvSearch" type="text" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label>MKT Person :</label>
                                    </td>
                                    <td>
                                        <select id="cboMKTPersonAdvSearch"></select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label>DO Type :</label>
                                    </td>
                                    <td>
                                        <select id="cboDOTypeAdvSearch"></select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label>Status :</label>
                                    </td>
                                    <td>
                                        <div style="">
                                            <table id="tblStatusAdvSearch" class="easyui-datagrid" title="" style="width: 275px; height: 140px;" data-options="singleSelect: false,fitColumns:false, rownumbers:true, pagination:false, autoRowHeight:false, ">
                                                <thead>
                                                    <tr>
                                                        <th data-options="field:'Selected',checkbox:true"></th>
                                                        <th field="Value" width="98%">Status</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td height="10" colspan="2"></td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input id="chkDODate" type="checkbox" style="margin: 0;" onchange="ChangeDODates();" />
                                        <label style="margin-right: 1px;">DO Date :</label>
                                        <input id="txtFromDODateAdvSearch" type="text" style="width: 100px;" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                                        <label style="margin: 0 26px 0 26px;">To</label>
                                        <input id="txtToDODateAdvSearch" type="text" style="width: 100px;" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                                    </td>
                                </tr>
                                <tr>
                                    <td height="10" colspan="2"></td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <input id="chkDeliveryDate" type="checkbox" style="margin: 0;" onchange="ChangeDeliveryDates();" />
                                        <label style="margin-right: 1px;">Del. Date :</label>
                                        <input id="txtFromDeliveryDateAdvSearch" type="text" style="width: 100px;" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                                        <label style="margin: 0 24px 0 24px;">To</label>
                                        <input id="txtToDeliveryDateAdvSearch" type="text" style="width: 100px;" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                                    </td>
                                </tr>
                                <tr>
                                    <td height="20" colspan="2"></td>
                                </tr>
                                <tr>
                                    <td class="btnResetSearch" colspan="2">
                                        <input id="btnResetAdvSearch" type="button" value="Reset" />
                                        <input id="btnSearchAdvSearch" type="button" value="Search" />
                                    </td>
                                </tr>
                            </table>
                        </fieldset>
                    </td>
                    <td>
                        <div style="margin-top: 6px;">
                            <table id="tblSUDeliveryOrderAdvSearch" class="easyui-datagrid" title="Delivery Order(s)" style="width: 450px; height: 430px;" data-options="singleSelect: false,fitColumns:false, rownumbers:true, pagination:false, autoRowHeight:false, ">
                                <thead>
                                    <tr>
                                        <th data-options="field:'Selected',checkbox:true"></th>
                                        <th field="DONo" width="30%">DONo</th>
                                        <th field="DODateSt" width="25%" align="center">DO Date</th>
                                        <th field="DOStatusSt" width="25%">Status</th>
                                        <th field="BuyerName" width="25%">Buyer Name</th>
                                        <th field="DOTypeSt" width="25%">DO Type</th>
                                        <th field="DeliveredToName" width="25%">Delivered To</th>
                                        <th field="DeliveryDateSt" width="25%" align="center">Delivery Date</th>
                                        <th field="MKTPName" width="25%">MKT Person</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <label class="lblLoadingMessage" style="float:left;">Loading Please Wait...</label>
                <a id="btnOkAdvSearch" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-ok" plain="true">Ok</a>
                <a id="btnCloseAdvSearch" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
            </fieldset>
        </div>
        <div id="winReviseHistory" class="easyui-window" title="Revise History" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <table id="tblReviseHistory" class="easyui-datagrid" style="width: 900px; height: 350px; margin: 0;" data-options="singleSelect: true,fitColumns:false, rownumbers:true, pagination:false, autoRowHeight:false, toolbar: '#toolbarReviseHistory' ">
                <thead>
                    <tr>
                        <th field="DONo" width="15%">DONo</th>
                        <th field="DODateSt" width="15%" align="center">DO Date</th>
                        <th field="DOStatusSt" width="15%">Status</th>
                        <th field="BuyerName" width="20%">Buyer Name</th>
                        <th field="DOTypeSt" width="15%">DO Type</th>
                        <th field="DeliveredToName" width="20%">Delivered To</th>
                        <th field="DeliveryDateSt" width="20%" align="center">Delivery Date</th>
                        <th field="MKTPName" width="20%">MKT Person</th>
                        <th field="QtySt" width="15%" align="right">Qty</th>
                        <th field="AmountSt" width="15%" align="right">Amount</th>
                    </tr>
                </thead>
            </table>
            <div id="toolbarReviseHistory">
                <a id="btnViewReviseHistory" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-details" plain="true">Details</a>
            </div>
            <fieldset class="actionfieldsetstyle">
                <legend>Actions : </legend>
                <a id="btnCloseReviseHistory" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
            </fieldset>
        </div>
        <div id="winSUDeliveryOrder" class="easyui-window" title="SUDeliveryOrder" data-options="modal:true,closed:true,collapsible:false,minimizable:false,maximizable:false,closable:false">
            <table border="0" cellspacing="2" cellpadding="2" class="CaptionStyle">
                <tr>
                    <td style="width:100px; text-align:right">
                        DO No :
                    </td>
                    <td style="">
                        <input type="text" style="width:110px;margin-right:3px;" id="txtDONoSUDeliveryOrder" disabled="disabled" />
                        DO Type :
                        <select id="cboDOTypeSUDeliveryOrder" class="buyer"></select>
                    </td>
                    <td style="width:200px; text-align:right">
                        DO Date :
                    </td>
                    <td style="">
                        <input id="txtDODateSUDeliveryOrder" type="text" style="width:210px;" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                    </td>
                </tr>
                <tr>
                    <td style="width:100px; text-align:right">
                        Buyer :
                    </td>
                    <td style="text-align:left">
                        <select id="cboBuyerSUDeliveryOrder" style="width:120px;"></select>
                        <input id="txtSearchByBuyerSUDeliveryOrder" class="buyer" type="text" style="" placeholder="Type & Press Enter" />
                        <input id="btnClrBuyerSUDeliveryOrder" class="buyer" type="button" value="C" />
                        <input id="btnPickBuyerSUDeliveryOrder" class="buyer" type="button" value="P" />
                    </td>
                    <td style="width:200px; text-align:right">
                        <label style="width:150px;">Delivery Date </label>
                    </td>
                    <td style="">
                        <input id="txtDeliveryDateSUDeliveryOrder" type="text" style="width:210px;" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" />
                    </td>
                </tr>
                <tr>
                    <td style="width:100px; text-align:right">
                        Deliver To :
                    </td>
                    <td style="text-align:left">
                        <select id="cboDeliveryToSUDeliveryOrder" style="width:120px;"></select>
                        <input id="txtSearchByDeliveryToSUDeliveryOrder" type="text" style="" placeholder="Type & Press Enter" />
                        <input id="btnClrDeliveryToSUDeliveryOrder" type="button" value="C" />
                        <input id="btnPickDeliveryToSUDeliveryOrder" type="button" value="P" />
                    </td>
                    <td style="text-align:right">
                        <label style="width:150px;">MKT Person : </label>
                    </td>
                    <td style="">
                        <select id="cboMKTPersonSUDeliveryOrder" style="width:100%;"></select>
                    </td>
                </tr>
                <tr>
                    <td style="width:100px; text-align:right">
                        Deliver Point :
                    </td>
                    <td style="">
                        <input id="txtDeliverPointSUDeliveryOrder" type="text" style="width:98%;" />
                    </td>
                    <td style="width:200px; text-align:right">
                        PI No :
                    </td>
                    <td style="">
                        <input id="txtPINoSUDeliveryOrder" type="text" style="width:63%;" disabled />
                        <input id="btnClearPINoSUDeliveryOrder" type="button" value="C" />
                        <input id="btnPINoSUDeliveryOrder" type="button" value="P" />
                    </td>
                </tr>
                <tr>
                    <td style="width:100px; text-align:right">
                        Remarks :
                    </td>
                    <td style="">
                        <input id="txtRemarksSUDeliveryOrder" type="text" style="width:98%;" />
                    </td>
                    <td style="width:200px; text-align:right">
                        Currency :
                    </td>
                    <td style="">
                        <select id="cboCurrencySUDeliveryOrder" style="width:100%;"></select>
                    </td>
                </tr>
            </table>
            <div style="margin-left:2px; margin-top:2px">
                <table id="tblSUDeliveryOrderDetails" title="Products/Item Description" class="easyui-datagrid" style="width:917px;height:300px;" fitcolumns="false" rownumbers="true" pagination="false" singleselect="true" autorowheight="false" toolbar="#toolbarSUDeliveryOrderDetail" data-options="onClickRow: onClickRowSUDO">
                    <thead>
                        <tr>
                            <th field="ProductCode" width="10%" align="left">Product Code</th>
                            <th field="ProductName" width="20%" align="left">Item Description</th>
                            <th data-options="field:'Qty',align:'right',editor:{type:'numberbox',options:{precision:2}}" width="15%" align="right">Qty(kG)</th>
                            <th field="QtyInLbs" width="15%" align="right">Qty(LBS)</th>
                            <th data-options="field:'UnitPrice',align:'right',editor:{type:'numberbox',options:{precision:2}}" width="10%" align="right">Unit Price/KG</th>
                            <th field="UnitPriceInLbs" width="15%" align="right">Unit Price/LBS</th>
                            <th field="AmountSt" width="15%" align="right">Amount</th>
                        </tr>
                    </thead>
                </table>
                <div id="toolbarSUDeliveryOrderDetail">
                    <label id="lblSUDeliveryOrderDetailLabel">Product :</label>
                    <input id="txtProductNameSUDeliveryOrderDetail" type="text" class="productItemsSUDeliveryOrder" placeholder="Type Product & Press Enter" style="width:210px;" />
                    <input id="btnClrProductSUDeliveryOrderDetail" class="productItemsSUDeliveryOrder" type="button" value="C" />
                    <input id="btnPickProductSUDeliveryOrderDetail" class="productItemsSUDeliveryOrder" type="button" value="P" />
                    <a id="btnProductAddSUDeliveryOrderDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-add" plain="true">Add</a>
                    <a id="btnProductRemoveSUDeliveryOrderDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-remove" plain="true">Remove</a>
                    <a id="btnRefreshSUDeliveryOrderDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-reload" plain="true">Refresh</a>
                    <a id="btnPIProductsSUDeliveryOrderDetail" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-add" plain="true">PI Products</a>
                </div>
            </div>
            <table border="0">
                <tr>
                    <td style="width:80px;"></td>
                    <td id="tdTotalCaption" style="width: 100px; text-align: right; font-size: 12px; font-weight:bold"> Total : </td>
                    <td style="width: 150px; text-align: right; font-size: 12px">
                        <label id="lblTotalQty" style="text-align: right; font-size:12px; float: right; font-weight:bold">0.00</label>
                    </td>
                    <td style="width:100px;"></td>
                    <td style="width: 150px; text-align: right; font-size: 12px">
                        <label id="lblTotalUnitPrice" style="text-align: right; font-size:12px; float: right; font-weight:bold">0.00</label>
                    </td>
                    <td style="width:100px;"></td>
                    <td style="width: 150px; text-align: right; font-size: 12px">
                        <label id="lblTotalValue" style="text-align: right; font-size:12px; float: right; font-weight:bold">0.00</label>
                    </td>
                    <td style="width: 50px; text-align: right; font-size: 12px; font-weight:bold"></td>
                </tr>
            </table>
            <fieldset class="actionfieldsetstyle">
                <legend style="font-weight:bold"> Action : </legend>
                <a id="btnSaveSUDeliveryOrder" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-save" plain="true">Save</a>
                <a id="btnCloseSUDeliveryOrder" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-closed" plain="true">Close</a>
            </fieldset>
        </div>
        <div class="easyui-layout" style="width:100%; height:565px">
            <div class="menuMainCollectionTable" region="west" split="true" title="Spinning Unit Delivery Orders" style="width:45%;">
                <table id="tblSUDOs" class="easyui-datagrid" fit="true" fitcolumns="false" rownumbers="true" pagination="true" singleselect="true" autorowheight="false" toolbar="#toolbarSUDO"></table>
                <div id="toolbarSUDO">
                    <input id="txtDONoSUDO" type="text" style="width:110px" placeholder="Search by DO No" />
                    <input id="txtDODateSUDeliveryOrders" type="text" class="easyui-datebox" data-options="formatter:icsdateformat,parser:icsdateparser" style="width:100px;float:left" />
                    <a id="btnSearchByDateSUDeliveryOrders" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-search" plain="true"></a>
                    <a id="btnAdvSearchSUDO" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Adv Search" iconcls="icon-search" plain="true">Adv Search</a>
                    <a id="btnViewSUDO" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="View" iconcls="icon-details" plain="true">View</a>
                    <a id="btnHistorySUDO" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="History" iconcls="icon-details" plain="true">Challan List</a>
                    <a id="btnAddToListSUDO" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Add To List" iconcls="icon-add" plain="true">Add To List</a>
                    <a id="btnProgramHistorySUDO" style="float:right;" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-details" plain="true">Program History</a>
                    <a id="btnGetAllProgramsSUDO" style="float:right;" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-forword" plain="true">Get All Programs</a>
                </div>
                </div>
            <div class="menuMainCollectionTable" title="Spinning Unit Delivery Program List" region="center" style="width:100%;height:565px;overflow:hidden;">
                <table id="tblSUDPs" class="easyui-datagrid" fit="true" fitcolumns="false" rownumbers="true" pagination="true" singleselect="true" autorowheight="false" toolbar="#toolbarSUDP"></table>
                <div id="toolbarSUDP">
                    <input id="txtProgramDateSUDP" type="text" class="easyui-datebox" required="required" data-options="formatter:icsdateformat,parser:icsdateparser" style="width:100px;float:left;" />
                    <a id="btnRefreshSUDP" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Refresh" iconcls="icon-reload" plain="true">Refresh</a>
                    <a id="btnPendingSUDP" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Load Pending Programs" iconcls="icon-reload" plain="true">Pending Program</a>
                    <a id="btnUpdateSUDP" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Update Program Date" iconcls="icon-action" plain="true">Update</a>
                    <a id="btnRemoveSUDP" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Remove" iconcls="icon-remove" plain="true">Remove</a>
                    <a id="btnPrintList" href="javascript:void(0)" class="easyui-linkbutton easyui-tooltip" title="Print according to selected date" iconcls="icon-print" plain="true">Print List</a>
                </div>

            </div>
        </div>
</body>        

<style type="text/css">
    .tblAdvSearch .tblASWrapper {
        width: 360px;
    }

    .tblAdvSearch .tblASWrapper input[type="text"] {
        width: 98%;
    }

    .tblAdvSearch .tblASWrapper select {
        width: 99%;
    }

    .tblAdvSearch .oneTextTwoButton input[type='text'] {
        width: 82%;
    }

    .tblAdvSearch .oneTextTwoButton input[type='button'] {
        width: 10%;
    }

    .btnResetSearch input[type="button"] {
        width: 20%;
    }

    #btnSearchAdvSearch {
        float: right;
    }
</style>
    <script type="text/javascript">
    var _oSUDeliveryProgram = {ErrorMessage:"",MKTPersonID:0,SUDeliveryProgramDateTime:''};
    var _oBaseSUDeliveryProgram = {ErrorMessage:"",MKTPersonID:0,SUDeliveryProgramDateTime:''};
    var _oSUDeliveryPrograms = [];
    var _oDBSUDeliveryPrograms = [];
    var _sBaseAddress = "";
    var _oCurrentUser={};
    var _oProduct={};
    var _otblColumns=[];
    var _nbtnIDNo =0;
    var _nAvailableMachines=0;
    var _oDeliveryOrders=[];
    var _oContractorTypes = [];
    var _oReceivedStores=[];
    var _oCheckedByUsers=[];
    var _oDOStatus=[];
    $(document).ready(function() {
        _sBaseAddress = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(HttpContext.Current.Session[SessionInfo.BaseAddress]));
        _oCurrentUser=@Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(HttpContext.Current.Session[SessionInfo.CurrentUser]));
        _oDBSUDeliveryPrograms = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(Model));
        _oDeliveryOrders=@Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.DeliveryOrders));
        _oDOTypes = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.DOTypes));
        _oMktPersons = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.MktPersons));
        _oCurrencys = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.Currencys));
        _oContractorTypes = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.ContractorTypes));
        _oReceivedStores = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.ReceivedStores));
        _oCheckedByUsers = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.CheckedByUsers));
        _oDOStatus = @Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.DOStatus));
        InitializeSUDeliveryProgramsEvents();
        InitializeSUDeliveryOrderEvents();
        InitializeAdvSearchSUDeliveryOrderEvents();
        InitializeSUDeliveryChallanEvents();
        InitializeSUDeliveryProgramEvents();
    });
    $(document).keydown(function (e) { if (e.keyCode === 27) { $('div').icsWindow("close")}});
</script>
