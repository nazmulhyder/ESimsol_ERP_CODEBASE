@{
    ViewBag.Title = "Poly Measurement";
}
<html>
<body>
    @model ESimSol.BusinessObjects.PolyMeasurement
    <div class="menuMainCollectionTable" style="height: 550px;">
        <div id="divMeasurement" class="easyui-panel" title="Measurement" style="font-family:Tahoma; text-align:center; height:89%;">
            <fieldset style="height:100%; text-align:center;">
                <legend style="font-weight:bold"> Poly Measurement Informations : </legend>
                <table border="0" cellspacing="2" cellpadding="2" style="font-size:11px; font-weight:bold; text-align:center; width:550px">
                    <tr>
                        <td style="height:150px;">&nbsp;</td>
                        <td style="height:150px;">&nbsp;</td>
                    </tr>
                    <tr style="height:auto">
                        <td style="width:70px; text-align:right; height:auto; vertical-align:bottom; padding-bottom:7px; padding-left:10px">
                            <label style="width:159px;height:14px">Measurement :</label>
                        </td>
                        <td style="width: 70px; text-align: left; height:auto; vertical-align:bottom; padding-bottom:7px">
                            <input type="text" style="width: 639px;height:21px" id="txtMeasurement" readonly/>
                        </td>
                    </tr>

                    <tr style="height:auto">
                       
                        <td style="width:100%; text-align:right; height:auto; vertical-align:bottom; padding-bottom:7px;">
                            <label style="width:159px;height:15px">Measurement Type :</label>
                        </td>
                        <td style="width: 70px; text-align: left; height:auto; vertical-align:bottom; padding-bottom:7px">
                            <select style="width: 639px;height:21px" id="cboPolyMeasurementType"></select>
                        </td>
                    </tr>

                    <tr style="height:auto">
                        <td style="width:70px; text-align:right;height:auto; vertical-align:bottom; padding-bottom:7px;padding-left:10px">
                            <label style="width:159px;height:8px" id="lblMeasurementText">Measurement Value : </label>
                        </td>
                        <td style="width: 70px; text-align: left;height:auto;" id="tdFinalValue">                           
                           
                        </td>
                    </tr>
                    <tr style="height:auto">
                        <td style="width:70px; text-align:right; height:auto; vertical-align:bottom; padding-bottom:7px;padding-top:10px">
                            <label style="width:159px;height:14px">Note :</label>
                        </td>
                        <td style="width: 70px; text-align: left; height:auto; vertical-align:bottom; padding-bottom:7px">
                            <input type="text" style="width: 639px;height:21px" id="txtNote" />
                        </td>
                    </tr>
                    


                </table>
            </fieldset>
        </div>
        <fieldset>
            <legend style="font-weight:bold"> Action : </legend>
            <table border="0" cellspacing="2" cellpadding="2" style="font-size:11px; font-weight:bold; width:100%;">
                <tr>
                    <td style="width:100%;text-align:right">
                        <a id="btnSave" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-save" plain="true">Save</a>
                        <a id="btnClose" href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel" plain="true">Close</a>
                       
                    </td>
                </tr>
            </table>
        </fieldset>
    </div>
</body>
</html>


<script type="text/javascript">

    $(document).ready(function () {
        var sBaseAddress =@Html.Raw( new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(HttpContext.Current.Session[SessionInfo.BaseAddress]));
        var oMeasurement =@Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(Model));
        var oPolyMeasurementTyps =@Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(ViewBag.PolyMeasurementTypes));
        $("#cboPolyMeasurementType").icsLoadCombo({List: oPolyMeasurementTyps, OptionValue: "id", DisplayText: "Value" });
        $('#divMeasurement').data('Measurement', oMeasurement);
        $('#divMeasurement').data('BaseAddress', sBaseAddress);
        RefreshControl(oMeasurement); 
        //$('#lblMeasurementText').hide();
        if(sessionStorage.getItem("MeasurementHeader")=="View Measurement")
        {
            $('#lblMeasurementText').show();
            $('#btnSave').hide();
            $('#cboPolyMeasurementType').attr('disabled','disabled');
            $('#txtNote').attr('disabled','disabled');
            $('#txtMeasurement').attr('disabled','disabled');

            $('#txtLength').attr('disabled','disabled');
            $('#cboLength').attr('disabled','disabled');

            $('#txtWidth').attr('disabled','disabled');
            $('#cboWidth').attr('disabled','disabled');

            $('#txtThickness').attr('disabled','disabled');
            $('#cboThickness').attr('disabled','disabled');

            $('#txtFlap').attr('disabled','disabled');
            $('#cboFlap').attr('disabled','disabled');

            $('#txtGusset').attr('disabled','disabled');
            $('#cboGusset').attr('disabled','disabled');

            $('#txtGusset1').attr('disabled','disabled');
            $('#cboGusset1').attr('disabled','disabled');

            $('#txtLip').attr('disabled','disabled');
            $('#cboLip').attr('disabled','disabled');
            
        }
        //CboHideValue();
    });

    
    function RefreshControl(oMeasurement)
    {
       
        //$("#tdMeasurementInputFormula").val(parseInt(oMeasurement.PolyMeasurementTypeInt));
        $("#txtMeasurement").val(oMeasurement.Measurement);
        $("#txtNote").val(oMeasurement.Note);
        $("#cboPolyMeasurementType").val(oMeasurement.PolyMeasurementType);
       
        LoadMeasurementValue();
        //EventBind();
        SetMeasurementValue(oMeasurement);

    }

    function EventBind()
    {
        $("#txtLength").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboLength").change(function(e){
            MakeMeasurement();
        });


        $("#txtWidth").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboWidth").change(function(e){
            MakeMeasurement();
        });

        $("#txtThickness").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboThickness").change(function(e){
            MakeMeasurement();
        });

        $("#txtFlap").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboFlap").change(function(e){
            MakeMeasurement();
        });
        $("#txtGusset").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboGusset").change(function(e){
            MakeMeasurement();
        });
        $("#txtGusset1").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboGusset1").change(function(e){
            MakeMeasurement();
        });
        $("#txtLip").keyup(function(e){
            MakeMeasurement();
        });
        $("#cboLip").change(function(e){
            MakeMeasurement();
        });


     
    }
    
    function MakeMeasurement()
    {
        var sMeasurement = "";
        var nPolyMeasurementType  = parseInt($("#cboPolyMeasurementType").val());
        //sMeasurement = sMeasurement + $("#txtLength").val()+'"';
        //sMeasurement = sMeasurement + ' X ';
        //sMeasurement = sMeasurement + $("#txtWidth").val()+'"';
        //sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
       
        
        if(nPolyMeasurementType===1)
        {
          
            if($("#txtLength").val()!=""){
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }
            }
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }

            }
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }

            }
        }
        else if(nPolyMeasurementType===2)
        {
            if($("#txtLength").val()!=""){
                sMeasurement = sMeasurement + ' ( ';
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }

            }
            if($("#txtFlap").val()!=""){
                sMeasurement = sMeasurement + ' + ';

                if($("#cboFlap").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtFlap").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtFlap").val() + " " + $("#cboFlap").val();
                }
                sMeasurement = sMeasurement + ' ) ';

            }
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }

            }
            if($("#txtThickness").val()!=""){

                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }

            }
          
        }

        else if(nPolyMeasurementType===3)
        {
            if($("#txtLength").val()!=""){
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }
            }
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';
                sMeasurement = sMeasurement + ' ( ';

                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }

            }
            if($("#txtFlap").val()!=""){
                sMeasurement = sMeasurement + ' + ';
                if($("#cboFlap").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtFlap").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtFlap").val() + " " + $("#cboFlap").val();
                }
                sMeasurement = sMeasurement + ' ) ';

            }
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }

            }

        }

        else if(nPolyMeasurementType===4)
        {
            if($("#txtLength").val()!=""){
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }               
            }
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';

                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }              

            }
            if($("#txtGusset").val()!=""){
                sMeasurement = sMeasurement + ' ( ';

                if($("#cboGusset").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " + $("#cboGusset").val();
                }             
            }
            if($("#txtGusset1").val()!=""){
                sMeasurement = sMeasurement + ' + ';

                if($("#cboGusset1").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtGusset1").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtGusset1").val() + " " + $("#cboGusset1").val();
                }
                sMeasurement = sMeasurement + ' ) ';                
            }
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }
                

            }
            
        }

        else if(nPolyMeasurementType===5)
        {
            if($("#txtLength").val()!=""){
                sMeasurement = sMeasurement + ' ( ';
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }                
            }
            if($("#txtLip").val()!=""){
                sMeasurement = sMeasurement + ' + ';

                if($("#cboLip").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLip").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLip").val() + " " + $("#cboLip").val();
                }
                sMeasurement = sMeasurement + ' ) ';               
            }
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }
                
            }
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';
        
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }
            }
        }

        else if(nPolyMeasurementType===6)
        {
         
            if($("#txtLength").val()!=""){
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }                
            }
            if($("#txtFlap").val()!=""){
                sMeasurement = sMeasurement + ' + ';
                sMeasurement = sMeasurement + ' ( ';
                if($("#cboFlap").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtFlap").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtFlap").val() + " " + $("#cboFlap").val();
                }
                

            }
            if($("#txtGusset").val()!=""){

                sMeasurement = sMeasurement + ' + ';

                if($("#cboGusset").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " + $("#cboGusset").val();
                }
          
                sMeasurement = sMeasurement + ' ) ';

            }
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';

                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }
               
            }
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';       
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }

            }              

        }

        else if(nPolyMeasurementType===7)
        {
            if($("#txtLength").val()!=""){
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }  
            } 
            if($("#txtLip").val()!=""){
                sMeasurement = sMeasurement + ' + ';
                sMeasurement = sMeasurement + ' ( ';
                if($("#cboLip").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLip").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLip").val() + " " + $("#cboLip").val();
                }
            } 
            if($("#txtGusset").val()!=""){
                sMeasurement = sMeasurement + ' + ';
                if($("#cboGusset").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " + $("#cboGusset").val();
                }         
                sMeasurement = sMeasurement + ' ) ';               

            } 
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';

                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }
                

            } 
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';     
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }             

            } 
      
        }

        else if(nPolyMeasurementType===8)
        {
            if($("#txtWidth").val()!=""){
                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }
                
            } 
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';       
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }
                
            } 
            
        }
        

        else if(nPolyMeasurementType===9)
        {
            if($("#txtLength").val()!=""){
                sMeasurement = sMeasurement + ' ( ';
                if($("#cboLength").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLength").val() + " " + $("#cboLength").val();
                }
                
            } 
            if($("#txtLip").val()!=""){
                sMeasurement = sMeasurement + ' + ';

                if($("#cboLip").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtLip").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtLip").val() + " " + $("#cboLip").val();
                }
                
            } 
            if($("#txtGusset").val()!=""){
                sMeasurement = sMeasurement + ' + ';
                if($("#cboGusset").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtGusset").val() + " " + $("#cboGusset").val();
                }        
                sMeasurement = sMeasurement + ' ) ';              
            } 
            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';
                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }
                
            } 
            if($("#txtThickness").val()!=""){
                sMeasurement = sMeasurement + ' X ';        
                if($("#cboThickness").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtThickness").val() + " " + $("#cboThickness").val();
                }               
            } 
        }
        else if(nPolyMeasurementType===10)
        {
            if($("#txtLength").val()!=""){                
                if($("#cboLength").val()==="inch"){
                    sMeasurement = $("#txtLength").val() + " " +  '"';
                }else{
                    sMeasurement = $("#txtLength").val() + " " + $("#cboLength").val();
                }
            }

            if($("#txtWidth").val()!=""){
                sMeasurement = sMeasurement + ' X ';
                if($("#cboWidth").val()==="inch"){
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " +  '"';
                }else{
                    sMeasurement = sMeasurement +$("#txtWidth").val() + " " + $("#cboWidth").val();
                }
            } 
        }
        else if (nPolyMeasurementType===0){
            sMeasurement = "";
          
        }


        $("#txtMeasurement").val(sMeasurement);
    }

    function ValidateInput()
    {
        var nPolyMeasurementType = parseInt($("#cboPolyMeasurementType").val());
        if(nPolyMeasurementType==null || nPolyMeasurementType==0)
        {
            alert("Please select Poly Measurement Type!");
            $('#cboPolyMeasurementType').focus();
            return false;
        }
        else if(nPolyMeasurementType ==1){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }

            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 2){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
            if($("#txtFlap").val()==null || $("#txtFlap").val()=="")
            {
                alert("Please enter Flap!");
                $('#txtFlap').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }

            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 3){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }
            if($("#txtFlap").val()==null || $("#txtFlap").val()=="")
            {
                alert("Please enter Flap!");
                $('#txtFlap').focus();
                return false;
            }
            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 4){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }
            if($("#txtGusset").val()==null || $("#txtGusset").val()=="")
            {
                alert("Please enter Gusset!");
                $('#txtGusset').focus();
                return false;
            }
            if($("#txtGusset1").val()==null || $("#txtGusset1").val()=="")
            {
                alert("Please enter Gusset!");
                $('#txtGusset1').focus();
                return false;
            }
            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 5){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
             
            if($("#txtLip").val()==null || $("#txtLip").val()=="")
            {
                alert("Please enter Lip!");
                $('#txtLip').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }

            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }

        }
        else if(nPolyMeasurementType == 6){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
            if($("#txtFlap").val()==null || $("#txtFlap").val()=="")
            {
                alert("Please enter Flap!");
                $('#txtFlap').focus();
                return false;
            }
            if($("#txtGusset").val()==null || $("#txtGusset").val()=="")
            {
                alert("Please enter Gusset!");
                $('#txtGusset').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }
            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
          
        }
        else if(nPolyMeasurementType ==7){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
             
            if($("#txtLip").val()==null || $("#txtLip").val()=="")
            {
                alert("Please enter Lip!");
                $('#txtLip').focus();
                return false;
            }
            if($("#txtGusset").val()==null || $("#txtGusset").val()=="")
            {
                alert("Please enter Gusset!");
                $('#txtGusset').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }

            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 8){
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }

            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 9){
            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }
            if($("#txtLip").val()==null || $("#txtLip").val()=="")
            {
                alert("Please enter Lip!");
                $('#txtLip').focus();
                return false;
            }
            if($("#txtGusset").val()==null || $("#txtGusset").val()=="")
            {
                alert("Please enter Gusset!");
                $('#txtGusset').focus();
                return false;
            }
            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }

            if($("#txtThickness").val()==null || $("#txtThickness").val()=="")
            {
                alert("Please enter Thickness!");
                $('#txtThickness').focus();
                return false;
            }
        }
        else if(nPolyMeasurementType == 10){            

            if($("#txtLength").val()==null || $("#txtLength").val()=="")
            {
                alert("Please enter Length!");
                $('#txtLength').focus();
                return false;
            }

            if($("#txtWidth").val()==null || $("#txtWidth").val()=="")
            {
                alert("Please enter Width!");
                $('#txtWidth').focus();
                return false;
            }
        }
    
        if($("#txtNote").val()==null || $("#txtNote").val()=="")
        {
            alert("Please enter Note!");
            $('#txtNote').focus();
            return false;
        }

        return true;
    }

function RefreshObject()
{   
    //debugger;
    var nLength = 0;
    var sLengthUnit = "";
    var nWidth = 0;
    var sWidthUnit = "";
    var nThickness = 0;
    var sThicknessUnit = "";
    var nFlap = 0;
    var sFlapUnit = "";
    var nLip = 0;
    var sLipUnit = "";
    var nGusset = 0;
    var sGussetUnit = "";
    var nGusset1 = 0;
    var sGussetUnit1 = "";

    if(IsExistsHtmlControl("Length"))
    {
        nLength = $("#txtLength").val();
        sLengthUnit = $("#cboLength").val();        
    }
    if(IsExistsHtmlControl("Width"))
    {      
        nWidth = $("#txtWidth").val();
        sWidthUnit =$("#cboWidth").val();        
    }
    if(IsExistsHtmlControl("Flap"))
    {      
        nFlap = $("#txtFlap").val();
        sFlapUnit =$("#cboFlap").val();        
    }
    if(IsExistsHtmlControl("Thickness"))
    {      
        nThickness = $("#txtThickness").val();
        sThicknessUnit =$("#cboThickness").val();        
    }
    if(IsExistsHtmlControl("Lip"))
    {      
        nLip= $("#txtLip").val();
        sLipUnit=$("#cboLip").val();        
    }
    if(IsExistsHtmlControl("Gusset"))
    {      
        nGusset= $("#txtGusset").val();
        sGussetUnit =$("#cboGusset").val();        
    }
    if(IsExistsHtmlControl("Gusset1"))
    {      
        nGusset1= $("#txtGusset1").val();
        sGussetUnit1 =$("#cboGusset1").val();        
    }
   
    var oMeasurement= {
        PolyMeasurementID : parseInt($('#divMeasurement').data('Measurement').PolyMeasurementID),
        Measurement : $("#txtMeasurement").val(),
        Note : $("#txtNote").val(),
        PolyMeasurementTypeInt : parseInt($("#cboPolyMeasurementType").val()),

        Length: nLength,
        LengthUnit: sLengthUnit,
        Width : nWidth,
        WidthUnit : sWidthUnit,
        Flap : nFlap,
        FlapUnit : sFlapUnit,
        Thickness : nThickness,
        ThicknessUnit : sThicknessUnit,
        Lip : nLip,
        LipUnit : sLipUnit,
        Gusset : nGusset,
        GussetUnit :sGussetUnit,
        Gusset1 : nGusset1,
        GussetUnit1 :sGussetUnit1
    };

    return oMeasurement;
}

function IsExistsHtmlControl(sHtmlControl)
{    
    var nPolyMeasurementType  = parseInt($("#cboPolyMeasurementType").val());
    if(nPolyMeasurementType===1)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Width" || sHtmlControl==="Thickness")
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===2)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Flap" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===3)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Flap" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===4)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Gusset" || sHtmlControl==="Gusset1" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    } 

    else if(nPolyMeasurementType===5)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Lip" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===6)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Flap" || sHtmlControl==="Gusset" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===7)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Lip" || sHtmlControl==="Gusset" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===8)
    {
        if(sHtmlControl === "Width" ||  sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===9)
    {
        if(sHtmlControl === "Length" || sHtmlControl==="Lip" || sHtmlControl==="Gusset" || sHtmlControl==="Width" || sHtmlControl==="Thickness" )
        {
            return true;
        }
    }
    else if(nPolyMeasurementType===10)
    {
        if(sHtmlControl === "Width" ||  sHtmlControl==="Length" )
        {
            return true;
        }
    }

    return false;
}


function SetMeasurementValue(sSetValueControl){
    var nPolyMeasurementType  = parseInt($("#cboPolyMeasurementType").val());
    if(nPolyMeasurementType===1)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }

    else if(nPolyMeasurementType===2)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtFlap").val(sSetValueControl.Flap);
        $("#cboFlap").val(sSetValueControl.FlapUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }

    else if(nPolyMeasurementType===3)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtFlap").val(sSetValueControl.Flap);
        $("#cboFlap").val(sSetValueControl.FlapUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }
    else if(nPolyMeasurementType===4)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtGusset").val(sSetValueControl.Gusset);
        $("#cboGusset").val(sSetValueControl.GussetUnit);

        $("#txtGusset1").val(sSetValueControl.Gusset1);
        $("#cboGusset1").val(sSetValueControl.GussetUnit1);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }

    else if(nPolyMeasurementType===5)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtLip").val(sSetValueControl.Lip);
        $("#cboLip").val(sSetValueControl.LipUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }
    else if(nPolyMeasurementType===6)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtFlap").val(sSetValueControl.Flap);
        $("#cboFlap").val(sSetValueControl.FlapUnit);

        $("#txtGusset").val(sSetValueControl.Gusset);
        $("#cboGusset").val(sSetValueControl.GussetUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }
    else if(nPolyMeasurementType===7)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtLip").val(sSetValueControl.Lip);
        $("#cboLip").val(sSetValueControl.LipUnit);

        $("#txtGusset").val(sSetValueControl.Gusset);
        $("#cboGusset").val(sSetValueControl.GussetUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }
    else if(nPolyMeasurementType===8)
    {
        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }
    else if(nPolyMeasurementType===9)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtLip").val(sSetValueControl.Lip);
        $("#cboLip").val(sSetValueControl.LipUnit);

        $("#txtGusset").val(sSetValueControl.Gusset);
        $("#cboGusset").val(sSetValueControl.GussetUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);

        $("#txtThickness").val(sSetValueControl.Thickness);
        $("#cboThickness").val(sSetValueControl.ThicknessUnit);
    }

    else if(nPolyMeasurementType===10)
    {
        $("#txtLength").val(sSetValueControl.Length);
        $("#cboLength").val(sSetValueControl.LengthUnit);

        $("#txtWidth").val(sSetValueControl.Width);
        $("#cboWidth").val(sSetValueControl.WidthUnit);
    }
}

$('#cboPolyMeasurementType').change(function(){
    //var selected_option = $("#cboPolyMeasurementType").val();
    //alert(selected_option);
    LoadMeasurementValue();
    $("#txtMeasurement").val("");
    //EventBind();       
});

function LoadMeasurementValue(){
    var nPolyMeasurementType  = parseInt($("#cboPolyMeasurementType").val());
    var sHTML = '';
    $('#lblMeasurementText').show();
    if(nPolyMeasurementType == 0){
        $("#txtMeasurement").val("");
        $('#lblMeasurementText').hide();
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 1)
    {
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 2)
    {
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">F</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>';    
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtFlap" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboFlap">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
        
    }
    else if(nPolyMeasurementType === 3){
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">F</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtFlap" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboFlap">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 4){
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">G</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">G</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtGusset" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboGusset">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtGusset1" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboGusset1">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 5){
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">LIP</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLip" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLip">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 6){
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">F</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">G</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtFlap" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboFlap">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtGusset" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboGusset">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 7){
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">LIP</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">G</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLip" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLip">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtGusset" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboGusset">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else if(nPolyMeasurementType === 8)
    {
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>';    
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }

    else if(nPolyMeasurementType === 9){
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">LIP</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">G</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">T</td>';
        sHTML = sHTML +     '</tr>'; 
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLip" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLip">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">+</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtGusset" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboGusset">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="cm">CM</option>'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtThickness" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboThickness">'
        sHTML = sHTML +                 '<option value="mm">MM</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);   
    }
    else if(nPolyMeasurementType === 10)
    {
        sHTML = sHTML +'<table cellpadding="2" cellspacing="2" border="0" style="font-weight:bolder">';
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td style="text-align:center">L</td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td></td>';
        sHTML = sHTML +         '<td style="text-align:center">W</td>';
        sHTML = sHTML +     '</tr>';    
        sHTML = sHTML +     '<tr>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtLength" /> </td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboLength">'
        sHTML = sHTML +                 '<option value="Mtr">Mtr</option>'
        sHTML = sHTML +                 '<option value="Yards">Yards</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +         '<td style="width:20px; text-align:center">X</td>';
        sHTML = sHTML +         '<td><input type="text" style="width:50px" id="txtWidth" /></td>';
        sHTML = sHTML +         '<td >'
        sHTML = sHTML +             '<select id="cboWidth">'
        sHTML = sHTML +                 '<option value="inch">INCH</option>'
        sHTML = sHTML +             '</select>'
        sHTML = sHTML +         '</td>';
        sHTML = sHTML +     '</tr>';
        sHTML = sHTML + '</table>';
        $('#tdFinalValue').html(sHTML);
    }
    else{
        $('#tdFinalValue').html(sHTML);

    }
    EventBind();
}




$('#btnSave').click(function(){
    if(!ValidateInput()) return;
    var oMeasurement=RefreshObject();
    //console.log(oMeasurement);
    //return;
    $.ajax({
        type: "POST",
        dataType: "json",
        url : $('#divMeasurement').data('BaseAddress')+  "/PolyMeasurement/Save",
        traditional: true,
        data:  JSON.stringify(oMeasurement),
        contentType: "application/json; charset=utf-8",
        success: function (data)
        {
            oMeasurement = jQuery.parseJSON(data);
            if (oMeasurement.ErrorMessage=="" || oMeasurement.ErrorMessage==null)
            {
                alert("Data Saved sucessfully");
                var oMeasurements = sessionStorage.getItem("Measurements");
                var nIndex = parseInt(sessionStorage.getItem("SelectedRowIndex"));
                if (oMeasurements != null)
                {
                    oMeasurements = jQuery.parseJSON(oMeasurements);
                }
                else {
                    oMeasurements = [];
                }
                if (nIndex != -1)
                {
                    oMeasurements[nIndex] = oMeasurement;
                }
                else {
                    sessionStorage.setItem("SelectedRowIndex", oMeasurements.length);
                    oMeasurements.push(oMeasurement);
                }
                sessionStorage.setItem("Measurements", JSON.stringify(oMeasurements));
                window.location.href = sessionStorage.getItem("BackLink");
            }
            else
            {
                alert(oMeasurement.ErrorMessage);
            }
        },
        error: function (xhr, status, error) {
            alert(error);
        }

    });
});

$('#btnClose').click(function(){
    window.location.href = sessionStorage.getItem("BackLink");
});

$(document).keydown(function(e) {
    if(e.which == 27)//escape=27
    {
        window.location.href = sessionStorage.getItem("BackLink");
    }
});


</script>
