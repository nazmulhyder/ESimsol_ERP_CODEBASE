<html>
@{
    ViewBag.title = "CostSetup";
}
<body>
    @model ESimSol.BusinessObjects.CostSetup
    <div class="menuMainCollectionTable" ng-app="CostSetupApp" ng-controller="CostSetupController" id="divCostSetup">
        <div style="font-family:Tahoma;text-align:center;height:85%;" class="regionVR">
            <fieldset style="height:100%;">
                <legend>Update Cost Setup</legend>
                <div style="margin:70px 0 0 0">
                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Customs Duty (CD) Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.CustomsDuty" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Regulatory Duty(RD) Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.RegulatoryDuty" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Supplementary Duty(SD) Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.SupplementaryDuty" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Value Added Txt(VAT) Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.ValueAddedTxt" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Advance Income Tax(AIT)  Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.AdvanceIncomeTax" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Advance Trade Vat(ATV) Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.AdvanceTradeVat" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">ATV Deducted  Profit Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.ATVDeductedProfit" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Customs Clearing Misc. Charges &  Insurance Fee :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.CustomClearingAndInsuranceFee" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Margin Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.MarginRate" class="form-control number" required />
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="col-md-6 text-right">
                            <label class="control-label">Currency Rate :</label>
                        </div>
                        <div class="col-md-6 text-left">
                            <div class="col-md-4">
                                <input ng-model="CostSetup.CurrencyRate" class="form-control number" required/>
                            </div>
                            <div class="col-md-2" style="text-align:left;">
                                <input type="text" class="form-control" value="% " disabled>
                            </div>
                        </div>
                    </div>
                </div>

            </fieldset>
        </div>
        <fieldset style="height:15%">
            <legend>Action</legend>
            <div class="row col-md-12 text-right">
                <button type="button" class="btn btn-sm" aria-label="Left Align" ng-hide="btnSave" ng-click="Save()"> <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"> <label id="lblSave">Save</label></span> </button>
            </div>
        </fieldset>
    </div>
</body>
</html>
<style type="text/css">
    .regionVR .form-horizontal .control-label {
        padding-top: 1px;
    }

    .regionVR .form-control {
        height: 22px;
        padding: 0px 6px;
        font-size: 12px;
    }

    .regionVR .col-md-12 {
        width: 100%;
        margin-bottom: 3px;
    }

    .regionVR .col-md-7 {
        width: 60%;
        padding-right: 5px;
        padding-left: 5px;
    }

    .regionVR .col-md-5 {
        width: 40%;
        padding-right: 5px;
        padding-left: 5px;
    }

    .regionVR .col-md-4 {
        width: 30%;
        padding-left: 5px;
    }

    .regionVR .col-md-8 {
        width: 70%;
        padding-right: 5px;
        padding-left: 5px;
    }

    .regionVR .col-md-3 {
        width: 33.33%;
        padding-right: 3px;
        padding-left: 3px;
    }

    .regionVR .btn-sm {
        padding: 2px 8px;
    }

    .regionVR .input-group-addon {
        padding: 2px 5px;
    }
</style>

<script type="text/javascript">

    debugger;
    var oCostSetup =@Html.Raw(new System.Web.Script.Serialization.JavaScriptSerializer().Serialize(Model));
   
    //var CostSetupApp = angular.module('CostSetupApp', ['ngAnimate', 'ui.bootstrap','ui.grid', 'ui.grid.selection', 'ui.grid.edit', 'ui.grid.rowEdit','ui.grid.cellNav',]);
    //CostSetupApp.controller('CostSetupController', function ($scope,$http,$uibModal,$log,uiGridConstants,userSession) 
   
    var app= angular.module("CostSetupApp",[]);
    app.controller("CostSetupController", function($scope,$http,$log)
    {
        debugger;
       // alert("KAJ Hoi:Se");
        $scope.CostSetup=oCostSetup;
       
        $scope.Save = function ()
        {
            debugger;
            //if(!$scope.ValidateInput()) return;
            var oCostSetup= $scope.CostSetup;

            $http.post(sessionStorage.getItem('BaseAddress')+'/CostSetup/Save',oCostSetup).then(
                        function (response)
                        {
                            var oCostSetup= jQuery.parseJSON(response.data);
                            if (oCostSetup.ErrorMessage=="" || oCostSetup.ErrorMessage==null)
                            {
                                debugger;
                                alert("Data Save Successfully!!");
                            }
                            else
                            {
                                alert(oCostSetup.ErrorMessage);
                            }
                        },
                            function (response) { }
                    );

        };
        $scope.ValidateInput =  function ()
        {
            debugger;
            var nChkVal=$scope.CostSetup.CostSetupID* $scope.CostSetup.CustomsDuty*  $scope.CostSetup.RegulatoryDuty*  $scope.CostSetup.SupplementaryDuty*  $scope.CostSetup.ValueAddedTxt*  $scope.CostSetup.AdvanceIncomeTax*  $scope.CostSetup.AdvanceTradeVat*  $scope.CostSetup.ATVDeductedProfit*  $scope.CostSetup.CustomClearingAndInsuranceFee*  $scope.CostSetup.MarginRate*  $scope.CostSetup.CurrencyRate;
            if(nChkVal<=0)
            {
                alert('Rate Must Be Greater Than Zero');
                return false;
            }

            return true;
         };
       }
    );
</script>

