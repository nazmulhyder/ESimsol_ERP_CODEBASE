
 
@model ESimSol.BusinessObjects.ContractorPersonal
@{
    ViewBag.Title = "Add Bank Personnel";
}
@*<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>*@

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
        
        <div class="PageHeading">
        <table border="0">
                <tr>
                    
                    <td style="width:900px" class="Headline"> Add Contractor Personal</td>
                </tr>
            </table>
           </div>    
        <div class="PageBody" style="overflow:auto">
        <table border="0">
            <tr>
                <td style="width:50px"></td>
                <td style="width:800px">                           
                            <div style="font-size:15px; margin-top:10px; margin-bottom:10px; color:Blue; font-weight:bold">@Html.DisplayTextFor(model => model.SelectedContractor)</div>
                            <fieldset>
                                <legend style="font-weight:bold"> Contractor Personnel Info : </legend>
                                <table border="0">
                                    <tr>
                                        <td>Name</td>
                                        <td>:</td>
                                        <td>
                                                <div class="editor-field">
                                                @Html.TextBoxFor(model => model.Name, new { style = "width: 500px;", id = "txtName" })            
                                                </div>
                                        </td>
                                    </tr>
                                    <tr>
                                       <td>Address</td>         
                                        <td>:</td>
                                        <td>
                                            <div class="editor-field">
                                                @Html.TextBoxFor(model => model.Address, new { style = "width: 500px;", id = "txtAddress" })            
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                       <td>Phone Number</td>         
                                        <td>:</td>
                                        <td>
                                            <div class="editor-field">
                                                @Html.TextBoxFor(model => model.Phone, new { style = "width: 500px;", id = "txtPhone" })            
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                       <td>Email Address</td>         
                                        <td>:</td>
                                        <td>
                                            <div class="editor-field">
                                                @Html.TextBoxFor(model => model.Email, new { style = "width: 500px;", id = "txtEmail" })            
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                       <td>Note</td>         
                                        <td>:</td>
                                        <td>
                                            <div class="editor-field">
                                                @Html.TextBoxFor(model => model.Note, new { style = "width: 500px;", id = "txtNote" })            
                                            </div>
                                        </td>
                                    </tr>
                                     
                                    @Html.HiddenFor(model => model.ContractorID) 
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td>
                                            
                                        </td>
                                    </tr>
                                </table>
                                </fieldset>
                                 <input type="submit" value="Save" id="btnSave" />

                
                    </td>
                <td style="width:50px"></td>
            </tr>
            <tr>
                 <td style="width:50px"></td>
                 <td style="width:800px">
                    <div style="color: red;font-weight:900; margin-top:10px">@TempData["message"]</div>
                 </td>
                 <td style="width:50px"></td>
            </tr>
             <tr>
                 <td style="width:50px"></td>
                 <td style="width:800px">                      
                    <div style="font-weight:bold"><u>Contractor Personal List</u></div>  
                    <table id="myTable" class="tablesorterblue">
                        <thead> 
                            <tr>        
                                <th> Name</th>
                                <th> Address </th>
                                <th> Phone</th>  
                                <th> Email </th>
                                <th> Note</th>                                    
                                <th style="width:18px"></th>
                                <th style="width:18px"></th>
                                <th style="width:18px"></th>                                         
                            </tr>
                         </thead>
                         <tbody>
                            @foreach (var item in Model.ContractorPersonnelForSelectedContractor){
                                <tr>
                                    <td>@Html.DisplayFor(modelItem => item.Name)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Address)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Phone)</td> 
                                    <td>@Html.DisplayFor(modelItem => item.Email)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Note)</td>                                   
                                    <td>
                                        @Html.ActionLink(" ", "Edit", "ContractorPersonal", new { id = item.ContractorPersonalID }, new { @class = "edit-item-link", @title = "Edit" })
                                    </td> 
                                    <td>  
                                        @Html.ActionLink(" ", "Details", "ContractorPersonal", new { id = item.ContractorPersonalID }, new { @class = "detail-item-link", @title = "Details" })   
                                    </td>
                                    <td>
                                        @Html.ActionLink(" ", "Delete", "ContractorPersonal", new { id = item.ContractorPersonalID }, new { @class = "delete-item-link", @title = "Delete" })              
                                    </td>                                   
                                 </tr>
                             }
                             @if (Model.ContractorPersonnelForSelectedContractor.Count <= 0)
                             { 
                                <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                             }
                    </tbody>
                  </table>              
                 </td>
                 <td style="width:50px"></td>
            </tr>
        </table>     
        </div>
}
<div class="PageFooter">
<div style="margin-left:50px;margin-right:20px">
    <table>
        <tr>   
          <td style="width:500px">
            <div id="pager" class="tablesorterPager">
	            <form>
		            <img src="../../Content/Images/TableSorter/first.png" class="first"/>
		            <img src="../../Content/Images/TableSorter/prev.png" class="prev"/>
		            <input type="text" class="pagedisplay"/>
		            <img src="../../Content/Images/TableSorter/next.png" class="next"/>
		            <img src="../../Content/Images/TableSorter/last.png" class="last"/>
		            <select class="pagesize">
			            <option selected="selected"  value="20">20</option>                                
			            <option value="30">30</option>
			            <option value="40">40</option>               
		            </select>
	            </form>
            </div>
            </td>                     
            <td style="width:400px; text-align:right">
                @Html.ActionLink("Back To Contractor's Personal List", "RefreshList", "Contractor")
            </td>
        </tr>
    </table>
    
</div>
</div>
 


<script type="text/javascript">
    $(document).ready(function () {
        $("#myTable")
    .tablesorter({ widthFixed: true, widgets: ['zebra'] })
    .tablesorterPager({ container: $("#pager") });
    });


   

    $('#txtName').live('keydown', function (e) {
        var keyCode = e.keyCode || e.which;

        if (keyCode == 13) {
            e.preventDefault();
            $('#txtAddress').focus();
            $("#txtName").css("background-color", "white");
            $("#txtAddress").css("background-color", "#E6E6E6");
            return false;
        }
      
    });

    $('#txtAddress').live('keydown', function (e) {
        var keyCode = e.keyCode || e.which;

        if (keyCode == 13) {
            e.preventDefault();
            $('#txtPhone').focus();
            $("#txtAddress").css("background-color", "white");
            $("#txtPhone").css("background-color", "#E6E6E6");
            return false;
        }
      
    });

    $('#txtPhone').live('keydown', function (e) {
        var keyCode = e.keyCode || e.which;

        if (keyCode == 13) {
            e.preventDefault();
            $('#txtEmail').focus();
            $("#txtPhone").css("background-color", "white");
            $("#txtEmail").css("background-color", "#E6E6E6");
            return false;
        }
      
    });

     $('#txtEmail').live('keydown', function (e) {
        var keyCode = e.keyCode || e.which;

        if (keyCode == 13) {
            e.preventDefault();
            $('#txtNote').focus();
            $("#txtEmail").css("background-color", "white");
            $("#txtNote").css("background-color", "#E6E6E6");
            return false;
        }
      
    });

     $('#txtNote').live('keydown', function (e) {
        var keyCode = e.keyCode || e.which;

        if (keyCode == 13) {
            e.preventDefault();
            $('#btnSave').focus();
            $("#txtNote").css("background-color", "white");            
            return false;
        }

    });


    function DeafultControlselect() {
        $('#txtName').focus();
        $("#txtName").css("background-color", "#E6E6E6");
    } 


</script>